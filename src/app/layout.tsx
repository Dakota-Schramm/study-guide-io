"use client";

import { pdfjs } from "react-pdf";
import "./globals";
import "./globals.css";
import Link from "next/link";

import { DeanProvider } from "@/contexts/DeanContext";

// export const metadata: Metadata = {
//   title: "Create Next App",
//   description: "Generated by create next app",
// };

pdfjs.GlobalWorkerOptions.workerSrc = `//unpkg.com/pdfjs-dist@${pdfjs.version}/build/pdf.worker.min.js`;
// pdfjs.GlobalWorkerOptions.workerSrc = new URL(
//   'pdfjs-dist/build/pdf.worker.min.js',
//   import.meta.url,
// ).toString();

// TODO: Maybe attach a ref to make invisible in some views?
const HomeHeader = () => {
  return (
    <header className="p-4 space-x-8 divide-x">
      <Link href="/">Home</Link>
      <Link href="/create">Create</Link>
      <Link href="/settings">Settings</Link>
    </header>
  );
};

const RootLayout = ({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) => (
  <DeanProvider>
    <html lang="en" className="w-full h-full box-border">
      <body className="w-full h-full box-border">
        <HomeHeader />
        {children}
      </body>
    </html>
  </DeanProvider>
);

export default RootLayout;
